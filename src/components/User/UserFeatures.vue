<script setup lang="ts">
import { ref } from 'vue';
import { useAuthStore } from '../../store/userStore'
import checkLogin from '../../composables/checkLogin'
import { useRouter } from 'vue-router'
const router = useRouter()
const visible = ref(false);
const user = useAuthStore()

const order = () => {
  checkLogin(user, visible);
}

const cart = () => {
  checkLogin(user, visible);
  let result = checkLogin(user, visible);
  if (result == true) {
    router.push({
      name: 'Cart'
    })
  }
}

const bookshelf = () => {
  checkLogin(user, visible);
}

const address = () => {
  let result = checkLogin(user, visible);
  if (result == true) {
    router.push({
      name: 'Address'
    })
  }
}

const view_history = () => {
  checkLogin(user, visible);
}


interface Feature {
  name: string;
  svg: string;
}
const features = ref([
  {
    name: '订单',
    handle: order,
    svg: `<svg t="1747989463015" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1249" width="40" height="40"><path d="M756.8 944H475.2c-86.4 0-155.2-70.4-155.2-155.2v-46.4c0-86.4 70.4-155.2 155.2-155.2h281.6c86.4 0 155.2 70.4 155.2 155.2v46.4c0 84.8-70.4 155.2-155.2 155.2z" fill="#96E8BA" p-id="1250"></path><path d="M688 414.4H320c-12.8 0-22.4-9.6-22.4-22.4s9.6-22.4 22.4-22.4h368c12.8 0 22.4 9.6 22.4 22.4s-9.6 22.4-22.4 22.4zM688 558.4H320c-12.8 0-22.4-9.6-22.4-22.4s9.6-22.4 22.4-22.4h368c12.8 0 22.4 9.6 22.4 22.4s-9.6 22.4-22.4 22.4zM688 686.4H320c-12.8 0-22.4-9.6-22.4-22.4s9.6-22.4 22.4-22.4h368c12.8 0 22.4 9.6 22.4 22.4s-9.6 22.4-22.4 22.4z" fill="#103E26" p-id="1251"></path><path d="M704 894.4H304c-83.2 0-150.4-67.2-150.4-150.4v-448c0-83.2 67.2-150.4 150.4-150.4 12.8 0 22.4 9.6 22.4 22.4s-9.6 22.4-22.4 22.4c-57.6 0-105.6 48-105.6 105.6v448c0 57.6 48 105.6 105.6 105.6h400c57.6 0 105.6-48 105.6-105.6v-448c0-57.6-48-105.6-105.6-105.6-12.8 0-22.4-9.6-22.4-22.4s9.6-22.4 22.4-22.4c83.2 0 150.4 67.2 150.4 150.4v448c1.6 83.2-67.2 150.4-150.4 150.4z" fill="#103E26" p-id="1252"></path><path d="M609.6 243.2H400c-22.4 0-41.6-19.2-41.6-41.6V128c0-22.4 19.2-41.6 41.6-41.6h209.6c22.4 0 41.6 19.2 41.6 41.6v73.6c0 22.4-19.2 41.6-41.6 41.6z m-206.4-44.8h203.2V131.2H403.2v67.2z" fill="#103E26" p-id="1253"></path></svg>`
  },
  {
    name: '购物车',
    handle: cart,
    svg: `<svg t="1747989501760" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1399" width="40" height="40"><path d="M740.8 912H459.2c-86.4 0-155.2-70.4-155.2-155.2v-46.4c0-86.4 70.4-155.2 155.2-155.2h281.6c86.4 0 155.2 70.4 155.2 155.2v46.4c0 84.8-70.4 155.2-155.2 155.2z" fill="#96E8BA" p-id="1400"></path><path d="M292.8 246.4h-123.2c-12.8 0-22.4-9.6-22.4-22.4s9.6-22.4 22.4-22.4h123.2c12.8 0 22.4 9.6 22.4 22.4s-11.2 22.4-22.4 22.4zM443.2 246.4h-60.8c-12.8 0-22.4-9.6-22.4-22.4s9.6-22.4 22.4-22.4h60.8c12.8 0 22.4 9.6 22.4 22.4s-11.2 22.4-22.4 22.4z" fill="#103E26" p-id="1401"></path><path d="M776 710.4h-592c-11.2 0-20.8-9.6-22.4-20.8l-48-608c0-12.8 9.6-22.4 20.8-24 12.8-1.6 22.4 8 24 20.8l46.4 587.2h553.6l86.4-419.2H528c-12.8 0-22.4-9.6-22.4-22.4s9.6-22.4 22.4-22.4h344c6.4 0 12.8 3.2 17.6 8 4.8 4.8 6.4 12.8 4.8 19.2l-96 464c-1.6 9.6-11.2 17.6-22.4 17.6zM664 902.4c-19.2 0-36.8-6.4-51.2-17.6-35.2-28.8-40-80-12.8-115.2 28.8-35.2 80-40 115.2-12.8 35.2 28.8 40 80 12.8 115.2-14.4 17.6-33.6 27.2-54.4 30.4h-9.6z m1.6-118.4c-11.2 0-20.8 4.8-28.8 14.4-12.8 16-9.6 38.4 4.8 51.2 8 6.4 17.6 9.6 27.2 8 9.6-1.6 19.2-6.4 24-12.8 12.8-16 9.6-38.4-4.8-51.2-6.4-6.4-14.4-9.6-22.4-9.6zM344 902.4c-17.6 0-36.8-6.4-51.2-17.6-17.6-14.4-27.2-33.6-30.4-54.4-1.6-22.4 3.2-43.2 17.6-59.2 28.8-35.2 80-40 115.2-12.8s40 80 12.8 115.2c-16 17.6-40 28.8-64 28.8z m1.6-118.4c-11.2 0-20.8 4.8-28.8 14.4-6.4 8-9.6 17.6-8 27.2 1.6 9.6 6.4 19.2 12.8 24 16 12.8 38.4 9.6 51.2-4.8 12.8-16 9.6-38.4-4.8-51.2-6.4-6.4-14.4-9.6-22.4-9.6z" fill="#103E26" p-id="1402"></path><path d="M712 558.4h-448c-12.8 0-22.4-9.6-22.4-22.4s9.6-22.4 22.4-22.4h448c12.8 0 22.4 9.6 22.4 22.4s-9.6 22.4-22.4 22.4z" fill="#103E26" p-id="1403"></path></svg>`
  },
  {
    name: '书架',
    handle: bookshelf,
    svg: `<svg t="1747989932730" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2150" width="40" height="40"><path d="M782.4 1017.6h-352c-97.6 0-177.6-80-177.6-177.6V768c0-97.6 80-177.6 177.6-177.6h352C880 590.4 960 670.4 960 768v70.4c0 99.2-80 179.2-177.6 179.2z" fill="#96E8BA" p-id="2151"></path><path d="M760 945.6H236.8c-73.6 0-132.8-59.2-132.8-132.8V155.2c0-73.6 59.2-132.8 132.8-132.8h273.6c14.4 0 27.2 11.2 27.2 27.2s-11.2 27.2-27.2 27.2H236.8c-44.8 0-80 35.2-80 80v657.6c0 44.8 35.2 80 80 80h523.2c44.8 0 80-35.2 80-80V155.2c0-44.8-35.2-80-80-80h-44.8c-14.4 0-27.2-12.8-27.2-27.2s11.2-27.2 27.2-27.2h44.8c73.6 0 132.8 59.2 132.8 132.8v657.6c0 75.2-59.2 134.4-132.8 134.4z" fill="#103E26" p-id="2152"></path><path d="M635.2 75.2h-44.8c-14.4 0-27.2-11.2-27.2-27.2s11.2-27.2 27.2-27.2h44.8c14.4 0 27.2 11.2 27.2 27.2s-12.8 27.2-27.2 27.2zM612.8 505.6h-432c-14.4 0-27.2-11.2-27.2-27.2s11.2-27.2 27.2-27.2h432c14.4 0 27.2 11.2 27.2 27.2s-12.8 27.2-27.2 27.2zM782.4 505.6h-92.8c-14.4 0-27.2-11.2-27.2-27.2s11.2-27.2 27.2-27.2h92.8c14.4 0 27.2 11.2 27.2 27.2s-12.8 27.2-27.2 27.2z" fill="#103E26" p-id="2153"></path><path d="M299.2 489.6c-14.4 0-27.2-11.2-27.2-27.2v-288c0-14.4 11.2-27.2 27.2-27.2s27.2 11.2 27.2 27.2v288c0 14.4-11.2 27.2-27.2 27.2zM494.4 480c-11.2 0-22.4-8-25.6-20.8l-67.2-270.4c-3.2-14.4 4.8-28.8 19.2-32 14.4-3.2 28.8 4.8 32 19.2l67.2 272c3.2 14.4-4.8 28.8-19.2 32h-6.4zM528 929.6c-14.4 0-27.2-11.2-27.2-27.2V683.2c0-14.4 11.2-27.2 27.2-27.2s27.2 11.2 27.2 27.2v219.2c0 14.4-12.8 27.2-27.2 27.2zM697.6 929.6c-14.4 0-27.2-11.2-27.2-27.2V683.2c0-14.4 11.2-27.2 27.2-27.2s27.2 11.2 27.2 27.2v219.2c0 14.4-12.8 27.2-27.2 27.2z" fill="#103E26" p-id="2154"></path></svg>`
  },
  {
    name: '地址',
    handle: address,
    svg: `<svg t="1747989545978" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1549" width="40" height="40"><path d="M700.8 944C571.2 944 464 836.8 464 707.2c0-129.6 107.2-236.8 236.8-236.8 129.6 0 236.8 107.2 236.8 236.8C939.2 836.8 832 944 700.8 944z" fill="#96E8BA" p-id="1550"></path><path d="M732.8 825.6H224c-68.8 0-123.2-40-123.2-89.6v-4.8l16-75.2c3.2-11.2 16-19.2 27.2-16 12.8 3.2 19.2 14.4 17.6 27.2l-16 72c1.6 20.8 33.6 43.2 76.8 43.2h510.4c44.8 0 75.2-22.4 76.8-43.2l-16-76.8c-3.2-12.8 4.8-24 17.6-25.6 12.8-1.6 24 4.8 25.6 17.6l16 80v4.8c3.2 46.4-51.2 86.4-120 86.4z" fill="#103E26" p-id="1551"></path><path d="M472 814.4c-6.4 0-11.2-1.6-16-6.4-11.2-11.2-254.4-259.2-254.4-408 0-33.6 6.4-67.2 17.6-99.2 4.8-11.2 17.6-17.6 28.8-12.8 11.2 4.8 17.6 17.6 12.8 28.8-9.6 27.2-14.4 54.4-14.4 83.2 0 100.8 150.4 281.6 225.6 360 80-78.4 241.6-259.2 241.6-360 0-129.6-104-233.6-233.6-233.6-30.4 0-60.8 6.4-89.6 17.6-4.8 1.6-11.2 4.8-16 6.4-11.2 6.4-24 1.6-30.4-9.6-4.8-11.2-1.6-24 9.6-30.4 6.4-3.2 12.8-6.4 19.2-8 33.6-14.4 68.8-20.8 107.2-20.8 153.6 0 278.4 124.8 278.4 278.4 0 148.8-259.2 398.4-270.4 408-6.4 4.8-11.2 6.4-16 6.4z" fill="#103E26" p-id="1552"></path><path d="M264 283.2c-4.8 0-8-1.6-12.8-3.2-9.6-6.4-12.8-20.8-6.4-30.4 11.2-17.6 25.6-33.6 41.6-49.6 9.6-8 22.4-8 32 0 8 9.6 8 22.4 0 32-12.8 12.8-24 25.6-33.6 41.6-4.8 4.8-12.8 9.6-20.8 9.6zM480 494.4c-60.8 0-110.4-49.6-110.4-110.4s49.6-110.4 110.4-110.4 110.4 49.6 110.4 110.4-49.6 110.4-110.4 110.4z m0-176c-36.8 0-65.6 28.8-65.6 65.6s28.8 65.6 65.6 65.6 65.6-28.8 65.6-65.6-30.4-65.6-65.6-65.6zM824 164.8H768c-9.6 0-16-6.4-16-16s6.4-16 16-16h56c9.6 0 16 6.4 16 16s-6.4 16-16 16z" fill="#103E26" p-id="1553"></path><path d="M796.8 192c-9.6 0-16-6.4-16-16V120c0-9.6 6.4-16 16-16s16 6.4 16 16V176c0 9.6-8 16-16 16z" fill="#103E26" p-id="1554"></path></svg>`
  },
  {
    name: '历史',
    handle: view_history,
    svg: `<svg t="1747989733857" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2000" width="40" height="40"><path d="M644.8 944c-144 0-260.8-116.8-260.8-260.8s116.8-260.8 260.8-260.8 260.8 116.8 260.8 260.8c1.6 144-116.8 260.8-260.8 260.8z" fill="#96E8BA" p-id="2001"></path><path d="M680 702.4c-3.2 0-8-1.6-11.2-3.2l-201.6-120c-6.4-4.8-11.2-11.2-11.2-19.2V256c0-12.8 9.6-22.4 22.4-22.4s22.4 9.6 22.4 22.4v291.2l190.4 113.6c11.2 6.4 14.4 20.8 8 30.4-4.8 8-11.2 11.2-19.2 11.2zM230.4 592c-8 0-16-4.8-19.2-11.2-14.4-25.6-44.8-94.4-22.4-179.2 8-32 24-62.4 44.8-88 8-9.6 22.4-11.2 32-3.2 9.6 8 11.2 22.4 3.2 32-17.6 20.8-30.4 44.8-36.8 72-17.6 68.8 6.4 124.8 19.2 145.6 6.4 11.2 1.6 24-8 30.4-6.4 0-9.6 1.6-12.8 1.6z" fill="#103E26" p-id="2002"></path><path d="M304 272m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" fill="#103E26" p-id="2003"></path><path d="M491.2 904c-224 0-406.4-182.4-406.4-406.4 0-224 182.4-406.4 406.4-406.4 224 0 406.4 182.4 406.4 406.4 0 224-182.4 406.4-406.4 406.4z m0-768C292.8 136 129.6 299.2 129.6 497.6s161.6 361.6 361.6 361.6 361.6-161.6 361.6-361.6S691.2 136 491.2 136z" fill="#103E26" p-id="2004"></path></svg>`
  },
])



</script>

<template>
  <div class="fea-container">
    <div v-for="item in features" :key="item.name">
      <div class="fea-item" v-html="item.svg" @click="item.handle"></div>
      <div class="fea-name" style="text-align: center;">{{ item.name }}</div>
    </div>
  </div>
  <t-message v-model="visible" :offset="[10, 16]" :duration="-1" theme="warning" content="请先登录" :close-btn="true" />
</template>

<style lang="less" scoped>
.fea-container {
  display: flex;
  justify-content: space-around;
  margin-top: 30px;
}
</style>